# VIM下,在文件及目录中查找字符串的方法 (vimgrep)

  简单来讲,就是在路径和文件命符合{file}的所有文件中,查找符合{pattern}的字符串.(查找的结果可以用:copen命令打开quickfix列表查看).  没有参数g的话,则行只查找一次关键字.反之会查找所有的关键字.  没有参数j的话,查找后,VIM会跳转至第一个关键字所在的文件.反之,只更新结果列表(quickfix).





:vimgrep /the menu/ ./includes/*.*


表示在当前目录中的"includes"目录里的所有文件中,查找字符串"the menu".




用这句就可以了.

  查找时{pattern}可用正则表达式,使用起来和'/'命令是一样的,就不多说了.

  查找的结果可以用":copen"命令查看,在列表里,将光标移动至相应的位置,按回车就打开对应的文件了.
  注:

​    :copen  打开quickfix

​    :cclose  关闭quickfix

​    :cc  是在转到当前查找到的位置
​    :cn  转到下一个位置
​    :cp  转到前一个位置


  当然,用grep同样可以达到这个效果,不过用vimgrep的好处就是与系统无关,能适用于所有系统的VIM,而且能自动识别文件编码和换行.嘿嘿,VIM就是你用的越多就越能感觉到它的强大了.